<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
<meta charset="UTF-8">
<title>Enterprise Case Converter v8</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>

body{
background:#0f1115;
padding:40px;
font-family:system-ui;
}

.result{
background:#1a1d24;
padding:15px;
border-radius:8px;
min-height:60px;
font-size:18px;
position:relative;
/* white-space:pre-wrap; */
}

.copy{
position:absolute;
right:10px;
top:10px;
}

</style>
</head>
<body>

<div class="container">

<h3 class="mb-4">Enterprise Case Converter v7</h3>

<input id="input"
class="form-control form-control-lg mb-4"
placeholder="Type anything...">


<label>Sentence case</label>

<div class="result mb-4">

<button class="btn btn-sm btn-outline-light copy"
onclick="copyResult('sentence')">Copy</button>

<div id="sentence"></div>

</div>


<label>Title Case</label>

<div class="result mb-4">

<button class="btn btn-sm btn-outline-light copy"
onclick="copyResult('title')">Copy</button>

<div id="title"></div>

</div>

</div>


<script>

/* =========================
ENTERPRISE DICTIONARY
========================= */

const DICT={

acronyms:new Set([

'API','SDK','URL','URI','HTTP','HTTPS',
'IP','TCP','UDP','DNS','PIN','OTP',
'JWT','SSO','OAuth','MFA','2FA',
'UI','UX','DB','SQL','JSON','XML',
'HTML','CSS','JS','CPU','GPU','RAM',
'UUID','GUID','CLI','SSH','VPN',
'AWS','GCP','CI','CD','IDE','OS',
'APP','ID'

]),

brands:{

'ios':'iOS',
'macos':'macOS',
'iphone':'iPhone',
'ipad':'iPad',
'eunite':'eUnite',
'youtube':'YouTube',
'github':'GitHub',
'node.js':'Node.js',
'typescript':'TypeScript',
'javascript':'JavaScript',
'powerpoint':'PowerPoint',
'excel':'Excel',
'google':'Google',
'microsoft':'Microsoft'

}

};



/* =========================
SMALL WORDS (Title Case)
========================= */

const SMALL_WORDS=new Set([

'a','an','and','as','at','but','by',
'for','from','in','into','nor','of',
'on','onto','or','over','per','the',
'to','up','via','with','without'

]);



/* =========================
UTIL FUNCTIONS
========================= */

function capitalize(word){

if(word.length===0) return word;

return word.charAt(0).toUpperCase()
+ word.slice(1);

}


function splitWord(word){

const match = word.match(/^([^A-Za-z0-9]*)([A-Za-z0-9]+(?:['â€™][A-Za-z0-9]+)*)([^A-Za-z0-9]*)$/);

if(!match) return null;

return {

prefix: match[1],
core: match[2],
suffix: match[3]

};

}


function isSentenceEnd(suffix){

return /[.!?]["')\]]*$/.test(suffix);

}


function normalize(core){

const lower=core.toLowerCase();

if(DICT.brands[lower])
return DICT.brands[lower];

if(DICT.acronyms.has(core.toUpperCase()))
return core.toUpperCase();

return null;

}



/* =========================
ENTERPRISE ENGINE
========================= */

function convert(text,isTitle){

const tokens=text.split(/(\s+)/);

let newSentence=true;
let firstWord=true;

return tokens.map(token=>{

if(token.trim()==="")
return token;

const parts=splitWord(token);

if(!parts)
return token;


const special=normalize(parts.core);

let resultCore;


if(special){

resultCore=special;

}else{

const lower=parts.core.toLowerCase();


if(isTitle){

if(!firstWord && SMALL_WORDS.has(lower))
resultCore=lower;
else
resultCore=capitalize(lower);

}else{

if(newSentence)
resultCore=capitalize(lower);
else
resultCore=lower;

}

}


const result=
parts.prefix + resultCore + parts.suffix;


firstWord=false;


if(isSentenceEnd(parts.suffix))
newSentence=true;
else if(!isTitle)
newSentence=false;


return result;

}).join('');

}



/* =========================
UI
========================= */

const input=document.getElementById("input");

input.addEventListener("input",()=>{

const text=input.value;

document.getElementById("sentence").innerText=
convert(text,false);

document.getElementById("title").innerText=
convert(text,true);

});


function copyResult(id){

navigator.clipboard.writeText(
document.getElementById(id).innerText
);

}

</script>

</body>
</html>
