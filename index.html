<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
<meta charset="UTF-8">
<title>Enterprise Case Converter v6</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{
    background:#0f1115;
    padding:40px;
}

.result{
    background:#1a1d24;
    padding:15px;
    border-radius:8px;
    min-height:60px;
    font-size:18px;
    position:relative;
}

.copy{
    position:absolute;
    right:10px;
    top:10px;
}
</style>
</head>
<body>

<div class="container">

<h3 class="mb-4">Enterprise Case Converter v6</h3>

<input id="input"
class="form-control form-control-lg mb-4"
placeholder="Type anything...">


<label>Sentence case</label>

<div class="result mb-4">

<button class="btn btn-sm btn-outline-light copy"
onclick="copyResult('sentence')">Copy</button>

<div id="sentence"></div>

</div>


<label>Title Case</label>

<div class="result mb-4">

<button class="btn btn-sm btn-outline-light copy"
onclick="copyResult('title')">Copy</button>

<div id="title"></div>

</div>

</div>


<script>

/* =========================
DICT
========================= */

const DICT={

acronyms:new Set([
'API','SDK','URL','URI','HTTP','HTTPS',
'IP','TCP','UDP','DNS','PIN','OTP',
'JWT','SSO','OAuth','MFA','2FA',
'UI','UX','DB','SQL','JSON','XML',
'HTML','CSS','JS','CPU','GPU','RAM',
'UUID','GUID','CLI','SSH','VPN',
'AWS','GCP','CI','CD','IDE','OS'
]),

brands:{
'ios':'iOS',
'macos':'macOS',
'iphone':'iPhone',
'ipad':'iPad',
'eunite':'eUnite',
'youtube':'YouTube',
'github':'GitHub',
'node.js':'Node.js',
'typescript':'TypeScript',
'javascript':'JavaScript',
'powerpoint':'PowerPoint',
'excel':'Excel',
'google':'Google',
'microsoft':'Microsoft'
}

};



/* =========================
UTIL
========================= */

function capitalize(word){

return word.charAt(0).toUpperCase()
     + word.slice(1);

}


function splitWord(word){

const match = word.match(/^([^a-zA-Z0-9]*)([a-zA-Z0-9\-]+)([^a-zA-Z0-9]*)$/);

if(!match) return null;

return {
prefix: match[1],
core: match[2],
suffix: match[3]
};

}



function isSentenceEnd(word){

return /[.!?]["')\]]*$/.test(word);

}



/* =========================
NORMALIZE (FIXED)
========================= */

function normalize(parts){

const lower = parts.core.toLowerCase();

if(DICT.brands[lower])
return parts.prefix + DICT.brands[lower] + parts.suffix;

if(DICT.acronyms.has(parts.core.toUpperCase()))
return parts.prefix + parts.core.toUpperCase() + parts.suffix;

return null;

}

/* =========================
SMALL WORDS
========================= */

const SMALL_WORDS=new Set([
'a','an','and','as','at','but','by',
'for','from','in','into','nor','of',
'on','onto','or','over','per','the',
'to','up','via','with','without'
]);



/* =========================
CORE ENGINE (FIXED)
========================= */

function process(text,isTitle){

const tokens=text.split(/(\s+)/);

let newSentence=true;
let first=true;

return tokens.map(token=>{

if(token.trim()==="")
return token;

const parts=splitWord(token);

if(!parts)
return token;

const special=normalize(parts);

if(special){

if(/[.!?]$/.test(parts.suffix))
newSentence=true;
else
newSentence=false;

first=false;

return special;

}

const lower=parts.core.toLowerCase();

if(isTitle){

if(!first && SMALL_WORDS.has(lower)){

first=false;
return parts.prefix + lower + parts.suffix;

}

first=false;
return parts.prefix + capitalize(lower) + parts.suffix;

}

if(newSentence){

newSentence=false;
first=false;

return parts.prefix + capitalize(lower) + parts.suffix;

}

if(/[.!?]$/.test(parts.suffix))
newSentence=true;

first=false;

return parts.prefix + lower + parts.suffix;

}).join('');

}

/* =========================
UI
========================= */

const input=document.getElementById("input");

input.addEventListener("input",()=>{

const text=input.value;

document.getElementById("sentence").innerText=
process(text,false);

document.getElementById("title").innerText=
process(text,true);

});


function copyResult(id){

navigator.clipboard.writeText(
document.getElementById(id).innerText
);

}

</script>

</body>
</html>
